<div id="partitions">
    <fieldset>
        <legend><?php echo __('Partitions')
            . PMA_Util::showMySQLDocu('partitioning'); ?>
        </legend>
        <table>
            <thead>
                <tr>
                    <th colspan="2">#</th>
                    <th><?php echo __('Name'); ?></th>
                    <th><?php echo __('Rows'); ?></th>
                    <th><?php echo __('Data length'); ?></th>
                    <th><?php echo __('Index length'); ?></th>
                    <th><?php echo __('Action'); ?></th>
                </tr>
            </thead>
            <tbody>
            <?php $odd = true; ?>
            <?php foreach ($partitions as $partition): ?>
                <tr class="noclick <?php echo $odd ? 'odd' : 'even' ?>">
                    <?php if ($partition->hasSubParitions()): ?>
                        <td><?php echo $partition->getOrdinal(); ?></td>
                        <td></td>
                    <?php else: ?>
                        <td colspan="2"><?php echo $partition->getOrdinal(); ?></td>
                    <?php endif; ?>
                    <th><?php echo htmlspecialchars($partition->getName()); ?></th>
                    <td class="value"><?php echo $partition->getRows(); ?></td>
                    <td class="value"><?php
                        list($value, $unit) = PMA_Util::formatByteDown(
                            $partition->getDataLength(), 3, 1
                        );
                        ?>
                        <span><?php echo $value; ?></span>
                        <span class="unit"><?php echo $unit; ?></span>
                    </td>
                    <td class="value"><?php
                        list($value, $unit) = PMA_Util::formatByteDown(
                            $partition->getIndexLength(), 3, 1
                        );
                        ?>
                        <span><?php echo $value; ?></span>
                        <span class="unit"><?php echo $unit; ?></span>
                    </td>
                    <td></td>
                    <?php if ($partition->hasSubParitions()): ?>
                        <?php foreach ($partition->getSubParitions() as $subParition): ?>
                            <tr class="noclick <?php echo $odd ? 'odd' : 'even' ?>">
                                <td></td>
                                <td><?php echo $subParition->getOrdinal(); ?></td>
                                <td><?php echo htmlspecialchars($subParition->getName()); ?></td>
                                <td class="value"><?php echo $subParition->getRows(); ?></td>
                                <td class="value"><?php
                                    list($value, $unit) = PMA_Util::formatByteDown(
                                        $subParition->getDataLength(), 3, 1
                                    );
                                    ?>
                                    <span><?php echo $value; ?></span>
                                    <span class="unit"><?php echo $unit; ?></span>
                                </td>
                                <td class="value"><?php
                                    list($value, $unit) = PMA_Util::formatByteDown(
                                        $subParition->getIndexLength(), 3, 1
                                    );
                                    ?>
                                    <span><?php echo $value; ?></span>
                                    <span class="unit"><?php echo $unit; ?></span>
                                </td>
                                <td></td>
                            </tr>
                        <?php endforeach; ?>
                    <?php endif; ?>
                </tr>
                <?php $odd = ! $odd; ?>
            <?php endforeach; ?>
            </tbody>
        </table>
    </fieldset>
</div>